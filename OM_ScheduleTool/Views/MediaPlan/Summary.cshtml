@model ManageMediaViewModel
<style type="text/css">
    .top-summary-header {
        height: 50px !important;
        background-color: #015B82 !important;
    }

    /*   .top-summary-header h1,h2,h3.h4,h5{
            color:#FFFFFF!important;
                line-height: 40px !important;
                margin-left: 5px !important;
        }

        .plan-summary-section h1, h2, h3.h4, h5 {
            color: #000000!important;
            line-height: 40px !important;
            margin-left: 5px!important;
        }*/
    .media-plan-name {
        color: #FFFFFF !important;
        line-height: 40px !important;
        margin-left: 5px;
    }

    media-plan-name-header {
        color: #FFFFFF !important;
        line-height: 40px !important;
        margin-left: 5px !important;
        font-size: 34px !important;
        font-weight: 600 !important;
    }

    media-plan-name-header-summary {
        color: #000000;
        line-height: 40px;
        margin-left: 5px;
        font-size: 34px;
        font-weight: 600;
    }

    .top-summary-action-menu {
        float: right !important;
        width: 100% !important;
    }

    .item-publish, .item-publish:hover {
        text-decoration: none;
        height: 40px !important;
        color: #ffffff !important;
        margin-left: 30px;
        margin-right: 5px;
        margin-top: 4px;
    }

    .menu-items {
        float: right;
        height: 50px !important;
        width: 60% !important;
        margin-right: 8px;
    }

        .menu-items a {
            color: #ffffff;
            font-size: 16px;
            text-decoration: underline;
        }

        .menu-items span {
            color: #ffffff;
            font-size: 16px;
        }

    .plan-summary-section {
        background-color: #ffffff;
        height: 100px !important;
        border-bottom: 1px solid #d5d5d5;
        padding: 0 !important;
    }

    .summary-header-row {
        background-color: #42A4F4 !important;
        width: 100% !important;
        height: 42px !important;
    }

    top-summary-section
    /*Overlay Code Style*/
    .overlay {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1000;
        top: 0;
        left: 0;
        background-color: rgb(0,0,0);
        background-color: rgba(0,0,0, 0.9);
        overflow-x: hidden;
        transition: 0.5s;
        opacity: 0.5;
    }

    .overlay-content {
        position: relative;
        top: 25%;
        width: 100%;
        text-align: center;
        margin-top: 30px;
    }

    .overlay a {
        padding: 8px;
        text-decoration: none;
        font-size: 36px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }

        .overlay a:hover, .overlay a:focus {
            color: #f1f1f1;
        }

    .overlay .closebtn {
        position: absolute;
        top: 20px;
        right: 45px;
        font-size: 60px;
    }

    .container-fluid#tblPlans4Q_wrapper, .container-fluid#tblPlans1Q_wrapper, .container-fluid#tblPlans2Q_wrapper, .container-fluid#tblPlans3Q_wrapper {
        padding-right: 0;
        padding-left: 0;
    }

    .content {
        width: 100% !important;
    }

    .content-header {
        margin-left: 0 !important;
        padding: 0 !important;
    }

    #page-footer {
        width: 100% !important;
        max-width: 2000px;
    }

    .table, td {
        text-align: right;
    }

        .table > caption + thead > tr:first-child > th, .table > colgroup + thead > tr:first-child > th, .table > thead:first-child > tr:first-child > th, .table > caption + thead > tr:first-child > td, .table > colgroup + thead > tr:first-child > td, .table > thead:first-child > tr:first-child > td {
            text-align: right;
        }


    #page-footer > div:first-child {
        float: left;
        width: 100% !important
    }

    #page-container.main-content-boxed > #main-container .content, #page-container.main-content-boxed > #page-footer .content, #page-container.main-content-boxed > #page-header .content, #page-container.main-content-boxed > #page-header .content-header {
        max-width: 2000px;
    }

    .row-published {
        /*background-color:#d3eafd !important;*/
        /*background-color:#E0FFFF!important;*/
        background-color: #ebf5df !important;
    }

    /*CSS FOR MULTISELECT*/
    .btnBTG:hover {
        border: 1px solid grey !important;
        box-shadow: revert-layer;
    }

    * {
        box-sizing: border-box;
    }

    a {
        text-decoration: none;
        color: #379937;
    }

    body {
        margin: 40px;
    }

    .dropdown {
        position: relative;
        font-size: 14px;
        color: #333;
    }

        .dropdown .dropdown-list {
            padding: 12px;
            background: #fff;
            position: absolute;
            top: 30px;
            left: 2px;
            right: 2px;
            box-shadow: 0 1px 2px 1px rgba(0, 0, 0, 0.15);
            transform-origin: 50% 0;
            transform: scale(1, 0);
            transition: transform 0.1s ease-in-out 0.1s;
            max-height: 15vh;
            overflow-y: scroll;
            z-index: 100;
        }

        .dropdown .dropdown-option {
            display: flex;
            /*padding: 8px 12px;*/
            opacity: 0;
            transition: opacity 0.15s ease-in-out;
        }

        .dropdown .dropdown-label {
            display: block;
            height: 34px;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px 12px;
            line-height: 1;
            cursor: pointer;
        }

            .dropdown .dropdown-label:before {
                content: "▼";
                float: right;
                color: gray
            }

        .dropdown.on .dropdown-list {
            transform: scale(1, 1);
            transition-delay: 0s;
        }

            .dropdown.on .dropdown-list .dropdown-option {
                opacity: 1;
                transition-delay: 0.2s;
            }

        .dropdown.on .dropdown-label:before {
            content: "▼";
            color: gray
        }

        .dropdown [type=checkbox] {
            position: relative;
            top: -1px;
            margin-right: 4px;
        }
    /*CSS FOR MULTISELCT END*/


    .multi-select-menuitems {
        display: inline-grid;
        text-align: left; /* padding: 0; */
        float: left;
        margin-left: 5px !important;
    }

    #attachmentsContainer {
        background-color: rgb(255, 255, 255);    
        border: 1px solid #ddd;
        padding: 10px;
        margin-top: 5px;
        width: 12.8%;
        margin-top: 13px;
        margin-left: -116px;
        height: auto;
        position: absolute;
        z-index: 1;
    }

    .browse-link {
        color: #42A4F4;
        text-decoration: underline; 
        cursor: pointer;
        margin-left: 5px;
    }

    .browse-link:hover {
            color: #42A4F4;
    }

    #attachementsDropZone {
        border: 2px dashed #ddd;
        display: inline-flex;
        font-size: 16px;
    }

    .attachments-cross-icon {
        color: #aaa4a4;        
        float: right;
        cursor: pointer;
        font-size: 19px;        
    }

    .attachments-cross-icon:hover {
        color: #a64b4b;
    }

    .download-attachments {
        border: 1px solid #ddd;
        width: auto;
        height: 32px;
        text-align: left;
        padding: 6px;
        margin-bottom: 4px;
        color: #42A4F4;
        cursor: pointer;
    }
</style>
<link href="~/js/plugins/multi-select/example-styles.css" rel="stylesheet" asp-append-version="true" />
<link href="~/js/plugins/multi-select/demo-styles.css" rel="stylesheet" asp-append-version="true" />
@*<link href="~/js/plugins/multi-select/css/bootstrap-multiselect.css" rel="stylesheet" />*@
<link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" type="text/css" />
@Html.Partial("_NavigationMenu", Model.LoggedOnUser)
@{
    string PL = Model.LoggedOnUser.PermissionLevel.Description.ToLower();
}
<!-- Main Container -->
<main id="main-container">
    <!-- Page Content -->
    <div class="content planning-dash" style="max-width:100%;margin:0;padding:10px;overflow:hidden;display: none;">
        @Html.Partial("~/Views/MediaPlan/_CreateEditMediaPlan.cshtml", Model)
        @Html.Partial("~/Views/MediaPlan/_MediaPlanNotes.cshtml", Model)
        <div class="block block-themed">
            <div class="block" style="margin-bottom:0!important;">
                <!-- Header Section Starts Here-->
                <div class="row" style="background-color:#FFFFFF;">
                    <div class="col-md-12" style="padding:0!important;">
                        <div class="form-group-row">
                            <div class="col-12" style="padding:0!important;">
                                <!-- Block Tabs Animated Slide Up -->
                                <div class="block" style="margin-bottom:0!important;overflow-x:auto;">
                                    <div class="block-content" style="padding:0;width:2210px;">
                                        <!-- Header Section Starts Here-->
                                        <div class="col-md-12 top-summary-header">
                                            <div style="display:flex;width: 100%!important;">
                                                <div style="float:left;width:50%;display: flex;">
                                                    <h1 id="hdnMediaPlanName" class="media-plan-name">
                                                    </h1>
                                                    <a href="javascript:void(0);" onclick=" return MediaPlanCheckLock('publish');" class="item-publish" id="ancPublished">
                                                        <i id="icoPublished" style="font-size:2.5em;" class="fa fa-star-o fa-2x" aria-expanded="true"></i>
                                                    </a>
                                                </div>
                                                <div class="top-summary-action-menu" style="width: 50%!important;float:right;">
                                                    <table class="menu-items">
                                                        <tbody>
                                                            <tr>
                                                                <th style="width:20%; text-align:center;border-right:1px solid #fff;">
                                                                    <input value="BACK" style="width:75px;" class="btn btn-alt-secondary" onclick="return PerformBack();">
                                                                </th>
                                                                <th style="width:20%; text-align:center;border-right:1px solid #fff;">
                                                                    <a href="javascript:void(0);" onclick=" return MediaPlanCheckLock('editbgt');">Edit Budget</a>
                                                                </th>
                                                                <th style="width:20%; text-align:center;border-right:1px solid #fff;">
                                                                    <a href="javascript:MediaPlanCheckLock('quickdtl');">Quick Details</a>
                                                                </th>
                                                                <th style="width:18%; text-align:center;border-right:1px solid #fff;">
                                                                    <a href="javascript:void(0);" onclick=" return MediaPlanCheckLock('notes');">Notes <span id="spnNoteCount"></span></a>
                                                                </th>
                                                                <th style="width:30%; text-align:center;">
                                                                    <a href="javascript:MediaPlanCheckLock('attachments');" onclick="AttachmentsSlideOut();">
                                                                        Attachments <span id="spnAttachmentCount"></span>                                                                        
                                                                    </a> 
                                                                    <div id="attachmentsContainer" style="display:none;">                                                                        
                                                                        <h5 style="text-align:left;">Upload file</h5>
                                                                        <div id="attachementsDropZone" style="display: inline-flex;font-size: 16px; padding:12px">
                                                                            <i class="fa fa-upload" style="font-size:x-large; margin-right:10px;"></i> Drag files here or <div class="browse-link">Browse</div>                                                                            
                                                                        </div>                                                                        
                                                                        <label style="font-size: 10px;">Max: 25mb. Types: pdf, doc, docx, msg, xls, xlsx, csv, png</label>
                                                                        <hr style="margin-top: 6px;" />
                                                                        <div id="div-download-attachments">
                                                                                                                                                       
                                                                        </div>
                                                                    </div>
                                                                </th>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="col-md-12 plan-summary-section" style="padding:5px!important;border-bottom: 1px solid #d6d6d6;margin-bottom: 10px">
                                            <div class="col-md-12" style="padding:0!important;">
                                                <div class="col-md-8" style="padding:0!important;">
                                                    <h1 class="media-plan-name-header-summary" style="margin-left:10px!important;font-size:42px!important;margin-bottom: 12px;">
                                                        Summary Page
                                                    </h1>
                                                    <p style="margin-left:10px!important;color: #000;font-weight: 400;font-size:16px;">
                                                        Last updated: <span id="spnModifiedDate">01/22/2024</span> by <span id="spnModifiedBy">Shariq Husain</span>
                                                    </p>
                                                </div>
                                                <div class="col-md-4" style="padding:0!important;height:60px!important;margin-top:10px;">
                                                    <table style="float:left;margin-left:22px;width:100%;" cellspacing="0" cellpadding="0">
                                                        <tbody>
                                                            <tr>
                                                                <td id="tdBudgetDisplay">
                                                                    <label for="ddlBudgetDisplay" style="font-size: 16px;font-weight: bold;float:left;margin-left: 5px!important;margin-bottom:-5px;">Budget Display</label>
                                                                    <select class="multi-select-button" id="ddlBudgetDisplay" onchange="return SetBudgetDisplay(this);">
                                                                        <option value="Gross">Gross</option>
                                                                        <option value="Client Net">Client Net</option>
                                                                    </select>
                                                                </td>
                                                                <td id="tdHeaderNetworks" style="width: 40%!important;padding-left: 15px">
                                                                    <label for="" style="font-size: 16px;font-weight: bold;float:left;margin-left: 5px!important;margin-bottom:-5px;">Network</label>
                                                                    <select id="ddlNetworkTotal" class="multi-select-button" style="float:left;height:34px;" name="ddlNetworkTotal" multiple>
                                                                        <option>--- Select ---</option>
                                                                    </select>

                                                                </td>
                                                                <td id="tdMediaType" style="width:35%!important;">
                                                                    <label for="" style="font-size: 16px;font-weight: bold;float:left;margin-left: 5px!important;margin-bottom:-5px;">Media Type</label>
                                                                    <select id="ddlMediaType" class="multi-select-button" style="float:left;height:34px;" name="ddlMediaType" multiple>
                                                                    </select>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>

                                        </div>

                                        <!--Media Plan Summary Total Section Design Starts Here --><div class="col-md-12" style="padding:0!important;">
                                            <div id="divMediaPlanSummaryTotal">
                                                <div class="col-md-12 summary-header-row">
                                                    <table style="width:100%">
                                                        <tr>
                                                            <td style="text-align:left;">
                                                                <h2 id="hdMediaPlanName" class="media-plan-name">
                                                                    Media Plan Totals
                                                                </h2>
                                                            </td>
                                                            <td>
                                                                <div style="display:flex;float: right;margin-top: -15px;margin-right:-10px;">
                                                                    <span id="spnAllBuyTypeGroups">
                                                                        <select id="ddlAllBuyTypeGroups" class="multi-select-button" style="float:left;height:34px;" name="ddlAllBuyTypeGroups" multiple>
                                                                            <option>--- Select ---</option>
                                                                        </select>
                                                                    </span>
                                                                    <span id="spnAllDemos">
                                                                        <select id="ddlAllDemos" class="multi-select-button" style="float:left;height:34px;" name="ddlAllDemos" multiple>
                                                                            <option>--- Select ---</option>
                                                                        </select>
                                                                    </span>
                                                                    <a href="#" title="Export Total to Excel" class="item-publish" style="margin-left:15px;margin-top:7px;"><i class="fa fa-file-excel-o fa-2x"></i></a>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </table>
                                                </div>
                                                <div>
                                                    <table class="table table-striped" id="tblMediaPlanTotals">
                                                        <thead id="thSummaryTotalHeaderAll">
                                                        </thead>
                                                        <tbody id="tbSummaryTotalBodyAll">
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                            <!--Individual BT Groups Code will appear here from Jquery libreary-->
                                            <div id="divMediaPlanSummaryBuyTypeGroup">
                                            </div>
                                            <!--Media Plan Summary Total Section Design  Ends Here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3" style="display:flex;padding:4px!important;">
                    @*     <span id="spnAllBuyTypeGroups">
                    <select id="ddlAllBuyTypeGroups" style="float:left;" name="ddlAllBuyTypeGroups" multiple>
                    </select>
                    </span>
                    <span id="spnAllDemos">
                    <select id="ddlAllDemos" style="float:left;" name="ddlAllDemos" multiple>
                    </select>
                    </span>
                    <a href="#" title="Export Total to Excel" class="item-publish" style="margin-left:15px;"><i class="fa fa-file-excel-o fa-2x"></i></a>
                    </div>*@
                    <!-- Header Section Ends Here-->
                    <!-- Sumamry Total Section Starts Here-->

                </div>
            </div>
        </div>
    </div>
    <!-- END Page Content -->
    <div id="DivOverLayMediaSummary" class="overlay" style="width: 100%!important;z-index:10000000;">
        <div style="text-align:center;position:absolute;vertical-align:middle;color:blue;height:150px;width:150px;left:50%;top:50%;margin-left:-75px;margin-top:-75px;">
            <img src="~/img/loadingImg.gif" style="height:60px;width:60px;" />
        </div>
    </div>
    <input type="hidden" id="hdnMediaPlanId" value="@ViewBag.MediaPlanId" />
    <input type="hidden" id="hdnMediaPlanName" value="" />
    <input type="hidden" id="hdnQuarterId" value="" />
    <input type="hidden" id="hdnQuarterName" value="" />
    <input type="hidden" id="hdnClientId" value="" />
    <input type="hidden" id="hdnClientName" value="" />
    <input type="hidden" id="hdnPlanYear" value="" />
    <input type="hidden" id="hdnNetworkSelection" value="" />
    <input type="hidden" id="hdnNetworkSelection" value="" />
</main>
<!-- END Main Container -->

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script src="~/js/plugins/multi-select/jquery.multi-select.js" asp-append-version="true"></script>
<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
<script asp-append-version="true" src="~/js/common.js"></script>
<script src="~/js/mediaplanning/mediaplansummary.js" asp-append-version="true"></script>
<script src="~/js/mediaplanning/CreateEditMediaPlan.js" asp-append-version="true"></script>
<script src="~/js/mediaplanning/MediaPlanNotes.js" asp-append-version="true"></script>
<script language="javascript" type="text/javascript">
    var _countryid = 5;
    var mediaPlanId;
    $(document).ready(function () {
        $($("#page-footer >div")[0]).removeClass("content");
        // $("#page-header").css("margin-left","-160px");
        $("#US").prop("checked", true);
        mediaPlanId = window.location.search.split('=')[1];

    });
    function PerformBack() {
        window.location.href = "/ManageMedia/Planning";
    }
    
</script>